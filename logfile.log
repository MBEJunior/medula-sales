2019-06-27 09:06:10.862  INFO 1732 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 1732 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 09:06:10.867 DEBUG 1732 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 09:06:10.867  INFO 1732 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 09:06:14.708 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 09:06:14.714 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 09:06:14.714 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 09:06:14.718 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:06:14.728 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:06:14.732 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 09:06:14.734 DEBUG 1732 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 09:06:14.740 DEBUG 1732 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 09:06:14.742 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 09:06:14.743 DEBUG 1732 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 09:06:14.744 DEBUG 1732 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 09:06:14.744 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 09:06:14.745 DEBUG 1732 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 09:06:14.746 DEBUG 1732 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 09:06:14.747 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 09:06:14.748 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:06:14.757 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:06:14.760 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 09:06:16.858  WARN 1732 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 09:06:17.328  INFO 1732 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 6.804 seconds (JVM running for 9.534)
2019-06-27 09:06:17.776 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:06:17.862 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:06:17.889 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:06:17.899 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:06:17.902 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:06:17.903 ERROR 1732 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 4"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 4"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 09:06:17.997  INFO 1732 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 1732 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 09:06:17.997 DEBUG 1732 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 09:06:17.998  INFO 1732 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 09:06:18.585 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 09:06:18.597 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 09:06:18.599 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 09:06:18.600 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:06:18.602 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:06:18.604 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 09:06:18.606 DEBUG 1732 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 09:06:18.607 DEBUG 1732 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 09:06:18.607 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 09:06:18.608 DEBUG 1732 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 09:06:18.608 DEBUG 1732 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 09:06:18.608 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 09:06:18.609 DEBUG 1732 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 09:06:18.609 DEBUG 1732 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 09:06:18.610 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 09:06:18.610 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:06:18.612 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:06:18.614 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 09:06:19.291  WARN 1732 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 09:06:19.627  INFO 1732 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.683 seconds (JVM running for 11.833)
2019-06-27 09:06:19.681 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:06:19.696 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:06:19.701 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:06:19.711 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:06:19.717 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:06:19.899 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 09:06:19.925 DEBUG 1732 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 09:08:40.112  INFO 22084 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 22084 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 09:08:40.114 DEBUG 22084 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 09:08:40.114  INFO 22084 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 09:08:43.606 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 09:08:43.610 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 09:08:43.610 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 09:08:43.613 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:08:43.623 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:08:43.628 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 09:08:43.629 DEBUG 22084 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 09:08:43.632 DEBUG 22084 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 09:08:43.633 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 09:08:43.634 DEBUG 22084 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 09:08:43.635 DEBUG 22084 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 09:08:43.635 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 09:08:43.636 DEBUG 22084 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 09:08:43.636 DEBUG 22084 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 09:08:43.637 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 09:08:43.638 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:08:43.643 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:08:43.645 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 09:08:45.444  WARN 22084 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 09:08:45.876  INFO 22084 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 6.145 seconds (JVM running for 8.354)
2019-06-27 09:08:46.219 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:46.275 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:46.276 ERROR 22084 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "QUANTITY"
NULL not allowed for column "QUANTITY"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 09:08:46.285 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:46.286 ERROR 22084 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UNIT_PRICE"
NULL not allowed for column "UNIT_PRICE"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 09:08:46.295 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:46.303 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:46.304 ERROR 22084 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UNIT_PRICE"
NULL not allowed for column "UNIT_PRICE"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 09:08:46.333 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:46.341 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:46.343 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:46.344 ERROR 22084 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 09:08:46.351 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:46.352 ERROR 22084 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "QUANTITY"
NULL not allowed for column "QUANTITY"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 09:08:46.391  INFO 22084 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 22084 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 09:08:46.392 DEBUG 22084 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 09:08:46.392  INFO 22084 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 09:08:46.880 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 09:08:46.885 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 09:08:46.886 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 09:08:46.888 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:08:46.890 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:08:46.891 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 09:08:46.893 DEBUG 22084 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 09:08:46.894 DEBUG 22084 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 09:08:46.894 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 09:08:46.895 DEBUG 22084 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 09:08:46.895 DEBUG 22084 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 09:08:46.896 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 09:08:46.896 DEBUG 22084 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 09:08:46.897 DEBUG 22084 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 09:08:46.897 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 09:08:46.898 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:08:46.900 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:08:46.902 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 09:08:47.594  WARN 22084 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 09:08:47.880  INFO 22084 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.512 seconds (JVM running for 10.358)
2019-06-27 09:08:47.928 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:47.938 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:47.943 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:47.952 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:47.956 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:08:48.116 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 09:08:48.137 DEBUG 22084 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 09:14:51.450  INFO 19212 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 19212 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 09:14:51.451 DEBUG 19212 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 09:14:51.451  INFO 19212 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 09:14:55.332 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 09:14:55.336 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 09:14:55.336 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 09:14:55.340 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:14:55.349 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:14:55.353 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 09:14:55.355 DEBUG 19212 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 09:14:55.361 DEBUG 19212 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 09:14:55.362 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 09:14:55.363 DEBUG 19212 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 09:14:55.363 DEBUG 19212 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 09:14:55.364 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 09:14:55.364 DEBUG 19212 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 09:14:55.365 DEBUG 19212 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 09:14:55.365 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 09:14:55.366 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:14:55.371 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:14:55.373 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 09:14:57.343  WARN 19212 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 09:14:57.786  INFO 19212 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 6.685 seconds (JVM running for 9.037)
2019-06-27 09:14:58.080 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:14:58.148 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:14:58.158 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:14:58.167 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:14:58.170 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:14:58.172 ERROR 19212 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 4"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 4"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 09:14:58.213  INFO 19212 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 19212 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 09:14:58.213 DEBUG 19212 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 09:14:58.213  INFO 19212 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 09:14:58.768 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 09:14:58.773 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 09:14:58.775 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 09:14:58.776 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:14:58.777 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:14:58.778 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 09:14:58.779 DEBUG 19212 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 09:14:58.780 DEBUG 19212 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 09:14:58.781 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 09:14:58.781 DEBUG 19212 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 09:14:58.782 DEBUG 19212 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 09:14:58.782 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 09:14:58.783 DEBUG 19212 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 09:14:58.783 DEBUG 19212 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 09:14:58.783 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 09:14:58.784 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:14:58.786 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:14:58.788 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 09:14:59.592  WARN 19212 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 09:14:59.870  INFO 19212 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.679 seconds (JVM running for 11.121)
2019-06-27 09:14:59.913 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:14:59.920 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:14:59.926 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:14:59.944 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:14:59.949 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:15:00.100 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 09:15:00.124 DEBUG 19212 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 09:30:04.941  INFO 21356 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 21356 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 09:30:04.942 DEBUG 21356 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 09:30:04.943  INFO 21356 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 09:30:08.712 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 09:30:08.716 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 09:30:08.717 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 09:30:08.720 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:30:08.729 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:30:08.734 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 09:30:08.736 DEBUG 21356 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 09:30:08.740 DEBUG 21356 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 09:30:08.741 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 09:30:08.741 DEBUG 21356 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 09:30:08.742 DEBUG 21356 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 09:30:08.742 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 09:30:08.743 DEBUG 21356 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 09:30:08.743 DEBUG 21356 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 09:30:08.743 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 09:30:08.744 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:30:08.750 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:30:08.751 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 09:30:10.523  WARN 21356 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 09:30:10.932  INFO 21356 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 6.578 seconds (JVM running for 8.365)
2019-06-27 09:30:11.210 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:30:11.238 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:30:11.280 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:30:11.287 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:30:11.295 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:30:11.298 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:30:11.299 ERROR 21356 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 5"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 5"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 09:30:11.339  INFO 21356 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 21356 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 09:30:11.339 DEBUG 21356 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 09:30:11.340  INFO 21356 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 09:30:11.835 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 09:30:11.841 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 09:30:11.842 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 09:30:11.843 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:30:11.845 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:30:11.847 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 09:30:11.848 DEBUG 21356 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 09:30:11.849 DEBUG 21356 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 09:30:11.849 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 09:30:11.850 DEBUG 21356 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 09:30:11.850 DEBUG 21356 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 09:30:11.850 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 09:30:11.851 DEBUG 21356 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 09:30:11.851 DEBUG 21356 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 09:30:11.852 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 09:30:11.852 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:30:11.854 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:30:11.856 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 09:30:12.439  WARN 21356 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 09:30:12.742  INFO 21356 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.427 seconds (JVM running for 10.175)
2019-06-27 09:30:12.781 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:30:12.790 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:30:12.793 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:30:12.802 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:30:12.805 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:30:12.948 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 09:30:12.977 DEBUG 21356 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 09:31:05.321  INFO 4580 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 4580 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 09:31:05.322 DEBUG 4580 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 09:31:05.322  INFO 4580 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 09:31:08.330 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 09:31:08.335 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 09:31:08.335 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 09:31:08.338 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:31:08.347 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:31:08.350 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 09:31:08.352 DEBUG 4580 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 09:31:08.355 DEBUG 4580 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 09:31:08.356 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 09:31:08.357 DEBUG 4580 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 09:31:08.357 DEBUG 4580 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 09:31:08.357 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 09:31:08.358 DEBUG 4580 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 09:31:08.358 DEBUG 4580 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 09:31:08.358 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 09:31:08.359 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:31:08.365 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:31:08.367 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 09:31:09.983  WARN 4580 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 09:31:10.378  INFO 4580 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 5.331 seconds (JVM running for 6.836)
2019-06-27 09:31:10.642 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:31:10.652 ERROR 4580 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "CREATED_DATE"
NULL not allowed for column "CREATED_DATE"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 09:31:10.671 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:31:10.672 ERROR 4580 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "CREATED_DATE"
NULL not allowed for column "CREATED_DATE"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 09:31:10.715 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:31:10.716 ERROR 4580 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "CREATED_DATE"
NULL not allowed for column "CREATED_DATE"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 09:31:10.725 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:31:10.726 ERROR 4580 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "CREATED_DATE"
NULL not allowed for column "CREATED_DATE"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 09:31:10.734 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:31:10.735 ERROR 4580 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "CREATED_DATE"
NULL not allowed for column "CREATED_DATE"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 09:31:10.789  INFO 4580 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 4580 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 09:31:10.789 DEBUG 4580 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 09:31:10.789  INFO 4580 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 09:31:11.290 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 09:31:11.296 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 09:31:11.297 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 09:31:11.298 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:31:11.300 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:31:11.301 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 09:31:11.302 DEBUG 4580 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 09:31:11.303 DEBUG 4580 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 09:31:11.303 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 09:31:11.304 DEBUG 4580 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 09:31:11.304 DEBUG 4580 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 09:31:11.304 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 09:31:11.305 DEBUG 4580 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 09:31:11.305 DEBUG 4580 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 09:31:11.305 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 09:31:11.305 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:31:11.307 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:31:11.308 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 09:31:12.057  WARN 4580 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 09:31:12.352  INFO 4580 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.589 seconds (JVM running for 8.81)
2019-06-27 09:31:12.391 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:31:12.392 ERROR 4580 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "CREATED_DATE"
NULL not allowed for column "CREATED_DATE"; SQL statement:
insert into category (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 09:31:12.542 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 09:31:12.569 DEBUG 4580 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 09:44:04.998  INFO 19388 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 19388 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 09:44:04.999 DEBUG 19388 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 09:44:04.999  INFO 19388 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 09:44:08.188 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 09:44:08.193 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 09:44:08.193 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 09:44:08.196 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:44:08.204 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:44:08.207 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 09:44:08.208 DEBUG 19388 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 09:44:08.211 DEBUG 19388 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 09:44:08.213 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 09:44:08.213 DEBUG 19388 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 09:44:08.213 DEBUG 19388 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 09:44:08.213 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 09:44:08.214 DEBUG 19388 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 09:44:08.214 DEBUG 19388 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 09:44:08.214 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 09:44:08.215 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:44:08.222 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:44:08.224 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 09:44:09.967  WARN 19388 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 09:44:10.395  INFO 19388 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 5.743 seconds (JVM running for 7.372)
2019-06-27 09:44:10.703 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:44:10.763 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:44:10.768 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:44:10.775 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:44:10.778 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:44:10.779 ERROR 19388 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 4"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 4"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 09:44:10.822  INFO 19388 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 19388 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 09:44:10.823 DEBUG 19388 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 09:44:10.823  INFO 19388 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 09:44:11.668 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 09:44:11.673 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 09:44:11.674 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 09:44:11.675 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:44:11.677 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 09:44:11.678 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 09:44:11.679 DEBUG 19388 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 09:44:11.680 DEBUG 19388 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 09:44:11.681 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 09:44:11.681 DEBUG 19388 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 09:44:11.682 DEBUG 19388 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 09:44:11.682 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 09:44:11.682 DEBUG 19388 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 09:44:11.682 DEBUG 19388 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 09:44:11.683 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 09:44:11.683 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:44:11.685 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 09:44:11.686 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 09:44:12.297  WARN 19388 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 09:44:12.556  INFO 19388 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.76 seconds (JVM running for 9.534)
2019-06-27 09:44:12.592 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:44:12.600 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:44:12.602 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:44:12.609 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:44:12.612 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 09:44:12.774 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 09:44:12.795 DEBUG 19388 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 11:01:39.943  INFO 6392 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 6392 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:01:39.944 DEBUG 6392 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:01:39.945  INFO 6392 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 11:01:43.645 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:01:43.649 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:01:43.649 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:01:43.652 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:01:43.662 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:01:43.665 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:01:43.666 DEBUG 6392 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:01:43.669 DEBUG 6392 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:01:43.670 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:01:43.671 DEBUG 6392 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:01:43.672 DEBUG 6392 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:01:43.672 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:01:43.673 DEBUG 6392 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:01:43.673 DEBUG 6392 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:01:43.673 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:01:43.674 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:01:43.681 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:01:43.683 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:01:45.503  WARN 6392 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:01:45.881  INFO 6392 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 6.23 seconds (JVM running for 9.062)
2019-06-27 11:01:46.189 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:01:46.217 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.version as version13_1_0_ 
    from
        product product0_ 
    where
        product0_.uuid=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 11:01:46.240 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    select
        productcat0_.fk_product_id as fk_produ9_2_0_,
        productcat0_.uuid as uuid1_2_0_,
        productcat0_.uuid as uuid1_2_1_,
        productcat0_.created_date as created_2_2_1_,
        productcat0_.creator_uuid as creator_3_2_1_,
        productcat0_.modified_date as modified4_2_1_,
        productcat0_.modifier_uuid as modifier5_2_1_,
        productcat0_.fk_category_id as fk_categ6_2_1_,
        productcat0_.deleted as deleted7_2_1_,
        productcat0_.deletion_trace as deletion8_2_1_,
        productcat0_.fk_product_id as fk_produ9_2_1_ 
    from
        product_category_xref productcat0_ 
    where
        (
            productcat0_.deleted = 0
        ) 
        and productcat0_.fk_product_id=?
2019-06-27 11:01:46.265 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:01:46.311 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:01:46.320 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:01:46.328 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:01:46.331 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:01:46.333 ERROR 6392 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 5"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 5"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 11:01:46.384  INFO 6392 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 6392 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:01:46.384 DEBUG 6392 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:01:46.384  INFO 6392 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 11:01:46.935 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:01:46.940 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:01:46.941 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:01:46.943 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:01:46.944 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:01:46.946 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:01:46.947 DEBUG 6392 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:01:46.948 DEBUG 6392 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:01:46.949 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:01:46.949 DEBUG 6392 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:01:46.949 DEBUG 6392 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:01:46.950 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:01:46.950 DEBUG 6392 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:01:46.950 DEBUG 6392 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:01:46.951 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:01:46.951 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:01:46.953 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:01:46.955 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:01:47.577  WARN 6392 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:01:47.899  INFO 6392 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.547 seconds (JVM running for 11.08)
2019-06-27 11:01:47.955 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:01:47.965 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:01:47.970 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:01:47.980 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:01:47.985 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:01:48.180 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 11:01:48.206 DEBUG 6392 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 11:06:15.491  INFO 16960 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 16960 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:06:15.492 DEBUG 16960 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:06:15.492  INFO 16960 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 11:06:18.517 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:06:18.521 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:06:18.521 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:06:18.524 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:06:18.532 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:06:18.535 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:06:18.537 DEBUG 16960 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:06:18.540 DEBUG 16960 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:06:18.541 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:06:18.541 DEBUG 16960 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:06:18.542 DEBUG 16960 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:06:18.542 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:06:18.543 DEBUG 16960 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:06:18.543 DEBUG 16960 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:06:18.543 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:06:18.544 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:06:18.552 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:06:18.554 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:06:20.146  WARN 16960 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:06:20.591  INFO 16960 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 5.406 seconds (JVM running for 7.312)
2019-06-27 11:06:20.888 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:06:20.914 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.version as version13_1_0_ 
    from
        product product0_ 
    where
        product0_.uuid=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 11:06:20.954 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:06:20.997 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:06:21.004 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:06:21.013 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:06:21.015 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:06:21.016 ERROR 16960 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 5"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 5"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 11:06:21.069  INFO 16960 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 16960 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:06:21.069 DEBUG 16960 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:06:21.069  INFO 16960 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 11:06:21.545 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:06:21.550 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:06:21.551 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:06:21.552 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:06:21.554 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:06:21.555 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:06:21.556 DEBUG 16960 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:06:21.556 DEBUG 16960 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:06:21.557 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:06:21.557 DEBUG 16960 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:06:21.557 DEBUG 16960 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:06:21.557 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:06:21.558 DEBUG 16960 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:06:21.558 DEBUG 16960 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:06:21.559 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:06:21.559 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:06:21.560 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:06:21.562 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:06:22.160  WARN 16960 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:06:22.450  INFO 16960 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.417 seconds (JVM running for 9.171)
2019-06-27 11:06:22.495 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:06:22.511 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:06:22.522 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:06:22.534 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:06:22.540 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:06:22.689 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 11:06:22.710 DEBUG 16960 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 11:12:05.471  INFO 22072 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 22072 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:12:05.472 DEBUG 22072 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:12:05.473  INFO 22072 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 11:12:08.548 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:12:08.552 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:12:08.552 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:12:08.556 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:12:08.565 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:12:08.569 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:12:08.570 DEBUG 22072 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:12:08.573 DEBUG 22072 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:12:08.574 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:12:08.575 DEBUG 22072 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:12:08.576 DEBUG 22072 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:12:08.577 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:12:08.578 DEBUG 22072 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:12:08.579 DEBUG 22072 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:12:08.579 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:12:08.580 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:12:08.585 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:12:08.587 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:12:10.227  WARN 22072 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:12:10.641  INFO 22072 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 5.524 seconds (JVM running for 7.121)
2019-06-27 11:12:11.007 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:12:11.032 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.version as version13_1_0_ 
    from
        product product0_ 
    where
        product0_.uuid=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 11:12:11.052 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    select
        productcat0_.fk_product_id as fk_produ9_2_0_,
        productcat0_.uuid as uuid1_2_0_,
        productcat0_.uuid as uuid1_2_1_,
        productcat0_.created_date as created_2_2_1_,
        productcat0_.creator_uuid as creator_3_2_1_,
        productcat0_.modified_date as modified4_2_1_,
        productcat0_.modifier_uuid as modifier5_2_1_,
        productcat0_.fk_category_id as fk_categ6_2_1_,
        productcat0_.deleted as deleted7_2_1_,
        productcat0_.deletion_trace as deletion8_2_1_,
        productcat0_.fk_product_id as fk_produ9_2_1_ 
    from
        product_category_xref productcat0_ 
    where
        (
            productcat0_.deleted = 0
        ) 
        and productcat0_.fk_product_id=?
2019-06-27 11:12:11.071 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:12:11.129 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:12:11.147 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:12:11.158 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:12:11.162 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:12:11.163 ERROR 22072 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 5"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 5"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 11:12:11.204  INFO 22072 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 22072 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:12:11.204 DEBUG 22072 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:12:11.204  INFO 22072 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 11:12:11.750 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:12:11.756 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:12:11.757 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:12:11.759 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:12:11.761 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:12:11.762 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:12:11.763 DEBUG 22072 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:12:11.764 DEBUG 22072 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:12:11.764 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:12:11.765 DEBUG 22072 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:12:11.765 DEBUG 22072 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:12:11.765 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:12:11.766 DEBUG 22072 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:12:11.766 DEBUG 22072 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:12:11.766 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:12:11.767 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:12:11.769 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:12:11.771 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:12:12.442  WARN 22072 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:12:12.708  INFO 22072 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.527 seconds (JVM running for 9.187)
2019-06-27 11:12:12.750 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:12:12.760 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:12:12.764 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:12:12.773 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:12:12.777 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:12:12.947 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 11:12:12.973 DEBUG 22072 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 11:16:51.508  INFO 8980 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 8980 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:16:51.510 DEBUG 8980 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:16:51.510  INFO 8980 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 11:16:54.752 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:16:54.757 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:16:54.757 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:16:54.760 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:16:54.768 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:16:54.772 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:16:54.773 DEBUG 8980 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:16:54.777 DEBUG 8980 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:16:54.777 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:16:54.778 DEBUG 8980 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:16:54.779 DEBUG 8980 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:16:54.779 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:16:54.780 DEBUG 8980 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:16:54.780 DEBUG 8980 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:16:54.780 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:16:54.781 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:16:54.786 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:16:54.788 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:16:56.535  WARN 8980 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:16:56.920  INFO 8980 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 5.765 seconds (JVM running for 7.448)
2019-06-27 11:16:57.209 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:16:57.230 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.version as version13_1_0_ 
    from
        product product0_ 
    where
        product0_.uuid=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 11:16:57.261 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:16:57.308 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:16:57.316 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:16:57.326 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:16:57.329 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:16:57.330 ERROR 8980 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 5"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 5"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 11:16:57.370  INFO 8980 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 8980 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:16:57.370 DEBUG 8980 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:16:57.370  INFO 8980 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 11:16:57.929 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:16:57.936 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:16:57.938 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:16:57.940 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:16:57.941 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:16:57.942 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:16:57.943 DEBUG 8980 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:16:57.944 DEBUG 8980 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:16:57.944 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:16:57.945 DEBUG 8980 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:16:57.945 DEBUG 8980 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:16:57.945 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:16:57.946 DEBUG 8980 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:16:57.946 DEBUG 8980 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:16:57.946 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:16:57.947 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:16:57.949 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:16:57.951 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:16:58.557  WARN 8980 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:16:58.819  INFO 8980 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.475 seconds (JVM running for 9.346)
2019-06-27 11:16:58.854 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:16:58.864 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:16:58.867 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:16:58.877 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:16:58.880 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:16:59.018 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 11:16:59.039 DEBUG 8980 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 11:19:35.584  INFO 20856 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 20856 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:19:35.587 DEBUG 20856 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:19:35.587  INFO 20856 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 11:19:38.965 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:19:38.969 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:19:38.969 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:19:38.974 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:19:38.982 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:19:38.986 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:19:38.987 DEBUG 20856 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:19:38.990 DEBUG 20856 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:19:38.991 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:19:38.991 DEBUG 20856 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:19:38.992 DEBUG 20856 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:19:38.992 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:19:38.992 DEBUG 20856 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:19:38.993 DEBUG 20856 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:19:38.993 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:19:38.994 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:19:38.999 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:19:39.001 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:19:40.643  WARN 20856 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:19:41.082  INFO 20856 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 5.874 seconds (JVM running for 7.695)
2019-06-27 11:19:41.416 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:19:41.440 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:19:41.448 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.version as version13_1_0_ 
    from
        product product0_ 
    where
        product0_.uuid=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 11:19:41.495 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:19:41.544 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:19:41.552 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:19:41.559 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:19:41.562 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:19:41.563 ERROR 20856 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 6"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 6"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 11:19:41.609  INFO 20856 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 20856 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:19:41.609 DEBUG 20856 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:19:41.609  INFO 20856 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 11:19:42.145 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:19:42.150 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:19:42.152 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:19:42.154 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:19:42.155 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:19:42.157 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:19:42.158 DEBUG 20856 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:19:42.159 DEBUG 20856 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:19:42.159 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:19:42.160 DEBUG 20856 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:19:42.160 DEBUG 20856 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:19:42.160 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:19:42.161 DEBUG 20856 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:19:42.161 DEBUG 20856 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:19:42.162 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:19:42.162 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:19:42.164 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:19:42.165 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:19:42.805  WARN 20856 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:19:43.055  INFO 20856 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.477 seconds (JVM running for 9.668)
2019-06-27 11:19:43.097 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:19:43.108 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:19:43.111 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:19:43.120 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:19:43.123 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:19:43.274 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 11:19:43.296 DEBUG 20856 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 11:20:35.676  INFO 18636 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 18636 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:20:35.677 DEBUG 18636 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:20:35.678  INFO 18636 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 11:20:38.852 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:20:38.855 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:20:38.855 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:20:38.859 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:20:38.867 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:20:38.870 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:20:38.872 DEBUG 18636 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:20:38.874 DEBUG 18636 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:20:38.876 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:20:38.877 DEBUG 18636 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:20:38.878 DEBUG 18636 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:20:38.878 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:20:38.879 DEBUG 18636 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:20:38.879 DEBUG 18636 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:20:38.880 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:20:38.880 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:20:38.886 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:20:38.888 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:20:40.627  WARN 18636 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:20:41.031  INFO 18636 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 5.671 seconds (JVM running for 7.235)
2019-06-27 11:20:41.375 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:20:41.400 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:20:41.408 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.version as version13_1_0_ 
    from
        product product0_ 
    where
        product0_.uuid=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 11:20:41.435 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:20:41.478 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:20:41.485 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:20:41.494 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:20:41.497 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:20:41.498 ERROR 18636 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 6"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 6"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 11:20:41.554  INFO 18636 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 18636 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:20:41.554 DEBUG 18636 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:20:41.554  INFO 18636 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 11:20:42.016 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:20:42.021 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:20:42.022 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:20:42.023 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:20:42.024 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:20:42.025 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:20:42.026 DEBUG 18636 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:20:42.026 DEBUG 18636 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:20:42.027 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:20:42.027 DEBUG 18636 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:20:42.027 DEBUG 18636 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:20:42.027 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:20:42.028 DEBUG 18636 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:20:42.028 DEBUG 18636 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:20:42.028 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:20:42.029 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:20:42.031 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:20:42.032 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:20:42.752  WARN 18636 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:20:43.074  INFO 18636 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.561 seconds (JVM running for 9.278)
2019-06-27 11:20:43.120 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:20:43.131 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:20:43.135 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:20:43.145 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:20:43.149 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:20:43.289 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 11:20:43.309 DEBUG 18636 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 11:41:14.761  INFO 10320 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 10320 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:41:14.763 DEBUG 10320 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:41:14.763  INFO 10320 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 11:41:17.816 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:41:17.819 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:41:17.819 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:41:17.823 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:41:17.831 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:41:17.834 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:41:17.836 DEBUG 10320 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:41:17.838 DEBUG 10320 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:41:17.839 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:41:17.840 DEBUG 10320 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:41:17.841 DEBUG 10320 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:41:17.841 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:41:17.842 DEBUG 10320 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:41:17.842 DEBUG 10320 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:41:17.842 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:41:17.843 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:41:17.848 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:41:17.850 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:41:19.672  WARN 10320 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:41:20.100  INFO 10320 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 5.87 seconds (JVM running for 7.556)
2019-06-27 11:41:20.425 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:41:20.442 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:41:20.450 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.version as version13_1_0_ 
    from
        product product0_ 
    where
        product0_.uuid=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 11:41:20.484 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:41:20.494 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:41:20.537 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    UPDATE
        product 
    SET
        setName = null,
        deleted = true 
    WHERE
        uuid = ?
2019-06-27 11:41:20.538 ERROR 10320 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Colonne "SETNAME" non trouvée
Column "SETNAME" not found; SQL statement:
UPDATE product SET setName = null, deleted = true WHERE uuid = ? [42122-199]
2019-06-27 11:41:20.605 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:41:20.614 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:41:20.624 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:41:20.626 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:41:20.627 ERROR 10320 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 11:41:20.668  INFO 10320 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 10320 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:41:20.669 DEBUG 10320 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:41:20.669  INFO 10320 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 11:41:21.203 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:41:21.209 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:41:21.211 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:41:21.212 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:41:21.214 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:41:21.216 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:41:21.218 DEBUG 10320 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:41:21.218 DEBUG 10320 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:41:21.219 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:41:21.220 DEBUG 10320 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:41:21.220 DEBUG 10320 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:41:21.221 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:41:21.221 DEBUG 10320 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:41:21.222 DEBUG 10320 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:41:21.222 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:41:21.223 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:41:21.225 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:41:21.227 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:41:21.847  WARN 10320 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:41:22.127  INFO 10320 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.484 seconds (JVM running for 9.582)
2019-06-27 11:41:22.170 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:41:22.179 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:41:22.183 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:41:22.194 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:41:22.198 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:41:22.356 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 11:41:22.375 DEBUG 10320 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 11:44:58.703  INFO 7204 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 7204 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:44:58.704 DEBUG 7204 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:44:58.704  INFO 7204 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 11:45:01.684 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:45:01.687 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:45:01.688 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:45:01.691 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:45:01.699 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:45:01.702 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:45:01.703 DEBUG 7204 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:45:01.706 DEBUG 7204 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:45:01.707 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:45:01.708 DEBUG 7204 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:45:01.709 DEBUG 7204 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:45:01.709 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:45:01.710 DEBUG 7204 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:45:01.710 DEBUG 7204 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:45:01.710 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:45:01.711 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:45:01.716 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:45:01.718 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:45:03.363  WARN 7204 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:45:03.784  INFO 7204 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 5.397 seconds (JVM running for 7.0)
2019-06-27 11:45:04.079 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:45:04.102 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:45:04.109 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.version as version13_1_0_ 
    from
        product product0_ 
    where
        product0_.uuid=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 11:45:04.133 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:45:04.141 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:45:04.187 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    UPDATE
        product 
    SET
        name = null,
        deleted = true 
    WHERE
        id = ?
2019-06-27 11:45:04.188 ERROR 7204 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Colonne "ID" non trouvée
Column "ID" not found; SQL statement:
UPDATE product SET name = null, deleted = true WHERE id = ? [42122-199]
2019-06-27 11:45:04.231 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:45:04.237 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:45:04.244 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:45:04.247 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:45:04.247 ERROR 7204 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"; SQL statement:
insert into product (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 11:45:04.285  INFO 7204 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 7204 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:45:04.285 DEBUG 7204 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:45:04.285  INFO 7204 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 11:45:04.785 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:45:04.790 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:45:04.791 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:45:04.793 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:45:04.794 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        version bigint not null,
        primary key (uuid)
    )
2019-06-27 11:45:04.796 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       uuid bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (uuid)
    )
2019-06-27 11:45:04.797 DEBUG 7204 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:45:04.798 DEBUG 7204 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:45:04.798 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:45:04.799 DEBUG 7204 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:45:04.799 DEBUG 7204 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:45:04.799 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:45:04.800 DEBUG 7204 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:45:04.800 DEBUG 7204 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:45:04.801 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:45:04.801 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:45:04.803 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 11:45:04.805 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 11:45:05.469  WARN 7204 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:45:05.731  INFO 7204 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.47 seconds (JVM running for 8.948)
2019-06-27 11:45:05.779 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:45:05.785 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:45:05.789 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:45:05.801 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:45:05.804 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (uuid, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:45:05.928 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.uuid) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 11:45:05.947 DEBUG 7204 --- [main] org.hibernate.SQL                        : 
    select
        product0_.uuid as uuid1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.version as version13_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.uuid desc limit ?
2019-06-27 11:46:27.584  INFO 11336 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 11336 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:46:27.585 DEBUG 11336 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:46:27.585  INFO 11336 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 11:46:30.418 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:46:30.421 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:46:30.421 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:46:30.424 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 11:46:30.431 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 11:46:30.434 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 11:46:30.437 DEBUG 11336 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:46:30.440 DEBUG 11336 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:46:30.441 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 11:46:30.442 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:46:30.442 DEBUG 11336 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:46:30.443 DEBUG 11336 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:46:30.443 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint uk_uuid unique (uuid)
2019-06-27 11:46:30.444 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:46:30.444 DEBUG 11336 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:46:30.445 DEBUG 11336 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:46:30.445 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:46:30.446 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 11:46:30.452 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 11:46:30.453 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product (uuid)
2019-06-27 11:46:32.066  WARN 11336 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:46:32.455  INFO 11336 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 5.146 seconds (JVM running for 6.709)
2019-06-27 11:46:32.766 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:46:32.778 ERROR 11336 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:46:32.793 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:46:32.794 ERROR 11336 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:46:32.803 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:46:32.804 ERROR 11336 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:46:32.848 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:46:32.849 ERROR 11336 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:46:32.860 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:46:32.861 ERROR 11336 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:46:32.870 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:46:32.871 ERROR 11336 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:46:32.933  INFO 11336 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 11336 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:46:32.933 DEBUG 11336 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:46:32.933  INFO 11336 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 11:46:33.583 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:46:33.589 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:46:33.591 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:46:33.592 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 11:46:33.594 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 11:46:33.596 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 11:46:33.597 DEBUG 11336 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:46:33.598 DEBUG 11336 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:46:33.599 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 11:46:33.600 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:46:33.600 DEBUG 11336 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:46:33.601 DEBUG 11336 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:46:33.601 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint uk_uuid unique (uuid)
2019-06-27 11:46:33.602 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:46:33.603 DEBUG 11336 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:46:33.603 DEBUG 11336 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:46:33.604 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:46:33.605 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 11:46:33.607 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 11:46:33.609 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product (uuid)
2019-06-27 11:46:34.184  WARN 11336 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:46:34.448  INFO 11336 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.544 seconds (JVM running for 8.702)
2019-06-27 11:46:34.491 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:46:34.492 ERROR 11336 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into category (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:46:34.635 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.id) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 11:46:34.664 DEBUG 11336 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.uuid as uuid13_1_,
        product0_.version as version14_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.id desc limit ?
2019-06-27 11:59:30.286  INFO 18176 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 18176 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:59:30.288 DEBUG 18176 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:59:30.288  INFO 18176 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 11:59:33.859 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:59:33.863 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:59:33.863 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:59:33.866 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 11:59:33.876 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 11:59:33.880 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 11:59:33.881 DEBUG 18176 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:59:33.885 DEBUG 18176 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:59:33.886 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 11:59:33.887 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:59:33.887 DEBUG 18176 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:59:33.888 DEBUG 18176 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:59:33.888 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint uk_uuid unique (uuid)
2019-06-27 11:59:33.888 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:59:33.889 DEBUG 18176 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:59:33.889 DEBUG 18176 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:59:33.889 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:59:33.890 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 11:59:33.896 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 11:59:33.898 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product (uuid)
2019-06-27 11:59:35.746  WARN 18176 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:59:36.229  INFO 18176 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 6.303 seconds (JVM running for 8.037)
2019-06-27 11:59:36.619 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:59:36.629 ERROR 18176 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:59:36.651 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:59:36.652 ERROR 18176 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:59:36.659 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:59:36.660 ERROR 18176 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:59:36.705 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:59:36.706 ERROR 18176 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:59:36.717 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:59:36.718 ERROR 18176 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:59:36.729 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:59:36.729 ERROR 18176 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:59:36.777  INFO 18176 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 18176 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 11:59:36.778 DEBUG 18176 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 11:59:36.778  INFO 18176 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 11:59:37.587 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 11:59:37.604 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 11:59:37.606 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 11:59:37.608 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 11:59:37.610 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 11:59:37.612 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 11:59:37.614 DEBUG 18176 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 11:59:37.614 DEBUG 18176 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 11:59:37.616 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 11:59:37.617 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 11:59:37.618 DEBUG 18176 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 11:59:37.619 DEBUG 18176 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 11:59:37.620 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint uk_uuid unique (uuid)
2019-06-27 11:59:37.620 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 11:59:37.621 DEBUG 18176 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 11:59:37.622 DEBUG 18176 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 11:59:37.623 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 11:59:37.624 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 11:59:37.627 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 11:59:37.630 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product (uuid)
2019-06-27 11:59:38.481  WARN 18176 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 11:59:38.848  INFO 18176 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 2.094 seconds (JVM running for 10.657)
2019-06-27 11:59:38.899 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 11:59:38.901 ERROR 18176 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into category (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 11:59:39.090 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.id) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 11:59:39.127 DEBUG 18176 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.uuid as uuid13_1_,
        product0_.version as version14_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.id desc limit ?
2019-06-27 12:09:38.057  INFO 20180 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 20180 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:09:38.059 DEBUG 20180 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:09:38.059  INFO 20180 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 12:09:41.473 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:09:41.477 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:09:41.477 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:09:41.480 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:09:41.489 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:09:41.493 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:09:41.494 DEBUG 20180 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:09:41.497 DEBUG 20180 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:09:41.498 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:09:41.499 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:09:41.499 DEBUG 20180 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:09:41.500 DEBUG 20180 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:09:41.501 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:09:41.501 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:09:41.502 DEBUG 20180 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:09:41.502 DEBUG 20180 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:09:41.503 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:09:41.503 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:09:41.510 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:09:41.511 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product (uuid)
2019-06-27 12:09:43.397  WARN 20180 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:09:43.890  INFO 20180 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 6.133 seconds (JVM running for 8.207)
2019-06-27 12:09:44.273 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:09:44.299 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:09:44.309 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.uuid as uuid13_1_0_,
        product0_.version as version14_1_0_ 
    from
        product product0_ 
    where
        product0_.id=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 12:09:44.346 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:09:44.357 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:09:44.406 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    UPDATE
        product 
    SET
        name = null,
        deleted = true 
    WHERE
        id = ?
2019-06-27 12:09:44.409 ERROR 20180 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Valeur invalide "2" pour le paramètre "parameterIndex"
Invalid value "2" for parameter "parameterIndex" [90008-199]
2019-06-27 12:09:44.480 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:09:44.493 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:09:44.503 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:09:44.507 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:09:44.508 ERROR 20180 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 12:09:44.583  INFO 20180 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 20180 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:09:44.584 DEBUG 20180 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:09:44.584  INFO 20180 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 12:09:45.260 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:09:45.267 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:09:45.269 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:09:45.270 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:09:45.272 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:09:45.274 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:09:45.276 DEBUG 20180 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:09:45.276 DEBUG 20180 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:09:45.277 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:09:45.277 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:09:45.277 DEBUG 20180 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:09:45.278 DEBUG 20180 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:09:45.278 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:09:45.278 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:09:45.279 DEBUG 20180 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:09:45.280 DEBUG 20180 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:09:45.280 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:09:45.280 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:09:45.282 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:09:45.284 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product (uuid)
2019-06-27 12:09:46.222  WARN 20180 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:09:46.558  INFO 20180 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 2.033 seconds (JVM running for 10.873)
2019-06-27 12:09:46.603 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:09:46.605 ERROR 20180 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : NULL non permis pour la colonne "UUID"
NULL not allowed for column "UUID"; SQL statement:
insert into category (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23502-199]
2019-06-27 12:09:46.773 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.id) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 12:09:46.801 DEBUG 20180 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.uuid as uuid13_1_,
        product0_.version as version14_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.id desc limit ?
2019-06-27 12:12:55.438  INFO 20120 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 20120 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:12:55.440 DEBUG 20120 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:12:55.440  INFO 20120 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 12:12:59.370 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:12:59.373 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:12:59.373 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:12:59.376 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:12:59.386 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:12:59.389 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:12:59.390 DEBUG 20120 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:12:59.394 DEBUG 20120 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:12:59.395 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:12:59.396 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:12:59.397 DEBUG 20120 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:12:59.397 DEBUG 20120 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:12:59.398 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:12:59.398 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:12:59.399 DEBUG 20120 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:12:59.399 DEBUG 20120 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:12:59.399 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:12:59.400 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:12:59.406 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:12:59.407 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product (uuid)
2019-06-27 12:13:01.176  WARN 20120 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:13:01.619  INFO 20120 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 6.654 seconds (JVM running for 8.597)
2019-06-27 12:13:01.979 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:13:02.003 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:13:02.012 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.uuid as uuid13_1_0_,
        product0_.version as version14_1_0_ 
    from
        product product0_ 
    where
        product0_.id=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 12:13:02.057 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:13:02.073 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:13:02.151 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    UPDATE
        product 
    SET
        name = null,
        deleted = true 
    WHERE
        id = ?
2019-06-27 12:13:02.153 ERROR 20120 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Valeur invalide "2" pour le paramètre "parameterIndex"
Invalid value "2" for parameter "parameterIndex" [90008-199]
2019-06-27 12:13:02.228 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:13:02.254 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:13:02.265 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:13:02.268 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:13:02.269 ERROR 20120 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 12:13:02.362  INFO 20120 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 20120 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:13:02.363 DEBUG 20120 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:13:02.363  INFO 20120 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 12:13:03.043 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:13:03.050 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:13:03.051 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:13:03.053 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:13:03.055 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:13:03.057 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:13:03.058 DEBUG 20120 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:13:03.059 DEBUG 20120 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:13:03.060 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:13:03.061 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:13:03.062 DEBUG 20120 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:13:03.062 DEBUG 20120 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:13:03.063 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:13:03.064 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:13:03.065 DEBUG 20120 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:13:03.066 DEBUG 20120 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:13:03.066 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:13:03.067 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:13:03.070 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:13:03.072 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product (uuid)
2019-06-27 12:13:03.821  WARN 20120 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:13:04.145  INFO 20120 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.852 seconds (JVM running for 11.124)
2019-06-27 12:13:04.183 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:13:04.189 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:13:04.193 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:13:04.201 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:13:04.202 ERROR 20120 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Erreur lors de la conversion de données "'2a539fcf488d4cdaad008653c3a287d1' (PRODUCT_CATEGORY_XREF: ""FK_CATEGORY_ID"" BIGINT)"
Data conversion error converting "'2a539fcf488d4cdaad008653c3a287d1' (PRODUCT_CATEGORY_XREF: ""FK_CATEGORY_ID"" BIGINT)"; SQL statement:
insert into product_category_xref (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) values (null, ?, ?, ?, ?, ?, ?, ?, ?) -- (NULL, ?1, ?2, ?3, ?4, ?5, ?6, ?7, ?8) [22018-199]
2019-06-27 12:13:04.350 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.id) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 12:13:04.376 DEBUG 20120 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.uuid as uuid13_1_,
        product0_.version as version14_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.uuid=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.id desc limit ?
2019-06-27 12:20:24.390  INFO 22480 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 22480 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:20:24.391 DEBUG 22480 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:20:24.391  INFO 22480 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 12:20:27.410 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:20:27.416 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:20:27.416 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:20:27.421 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:20:27.434 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:20:27.438 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:20:27.440 DEBUG 22480 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:20:27.444 DEBUG 22480 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:20:27.445 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:20:27.446 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:20:27.447 DEBUG 22480 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:20:27.448 DEBUG 22480 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:20:27.449 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:20:27.450 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:20:27.451 DEBUG 22480 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:20:27.451 DEBUG 22480 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:20:27.452 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:20:27.453 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:20:27.462 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:20:27.466 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:20:29.028  WARN 22480 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:20:29.498  INFO 22480 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 5.438 seconds (JVM running for 7.255)
2019-06-27 12:20:29.834 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:20:29.851 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:20:29.858 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.uuid as uuid13_1_0_,
        product0_.version as version14_1_0_ 
    from
        product product0_ 
    where
        product0_.id=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 12:20:29.885 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:20:29.893 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:20:29.925 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    UPDATE
        product 
    SET
        name = null,
        deleted = true 
    WHERE
        id = ?
2019-06-27 12:20:29.927 ERROR 22480 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Valeur invalide "2" pour le paramètre "parameterIndex"
Invalid value "2" for parameter "parameterIndex" [90008-199]
2019-06-27 12:20:29.975 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:20:29.996 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:20:30.007 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:20:30.009 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:20:30.010 ERROR 22480 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 12:20:30.046  INFO 22480 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 22480 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:20:30.046 DEBUG 22480 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:20:30.046  INFO 22480 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 12:20:30.537 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:20:30.542 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:20:30.543 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:20:30.544 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:20:30.545 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:20:30.546 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:20:30.546 DEBUG 22480 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:20:30.547 DEBUG 22480 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:20:30.547 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:20:30.548 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:20:30.548 DEBUG 22480 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:20:30.548 DEBUG 22480 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:20:30.549 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:20:30.549 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:20:30.549 DEBUG 22480 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:20:30.550 DEBUG 22480 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:20:30.550 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:20:30.550 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:20:30.552 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:20:30.554 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:20:31.157  WARN 22480 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:20:31.415  INFO 22480 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.392 seconds (JVM running for 9.172)
2019-06-27 12:20:31.456 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:20:31.464 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:20:31.467 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:20:31.478 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:20:31.481 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:20:31.638 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.id) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 12:20:31.662 DEBUG 22480 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.uuid as uuid13_1_,
        product0_.version as version14_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.id desc limit ?
2019-06-27 12:25:05.853  INFO 19032 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 19032 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:25:05.855 DEBUG 19032 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:25:05.855  INFO 19032 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 12:25:09.330 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:25:09.335 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:25:09.335 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:25:09.338 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:25:09.347 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:25:09.351 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:25:09.353 DEBUG 19032 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:25:09.356 DEBUG 19032 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:25:09.356 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:25:09.357 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:25:09.358 DEBUG 19032 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:25:09.358 DEBUG 19032 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:25:09.359 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:25:09.359 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:25:09.360 DEBUG 19032 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:25:09.360 DEBUG 19032 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:25:09.360 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:25:09.361 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:25:09.368 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:25:09.370 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:25:11.367  WARN 19032 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:25:12.127  INFO 19032 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 6.591 seconds (JVM running for 8.451)
2019-06-27 12:25:12.593 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:25:12.623 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:25:12.640 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.uuid as uuid13_1_0_,
        product0_.version as version14_1_0_ 
    from
        product product0_ 
    where
        product0_.id=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 12:25:12.682 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:25:12.696 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:25:12.756 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    UPDATE
        product 
    SET
        name = null,
        deleted = true 
    WHERE
        id = ?
2019-06-27 12:25:12.759 ERROR 19032 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Valeur invalide "2" pour le paramètre "parameterIndex"
Invalid value "2" for parameter "parameterIndex" [90008-199]
2019-06-27 12:25:12.839 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:25:12.852 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:25:12.863 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:25:12.865 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:25:12.867 ERROR 19032 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 12:25:12.928  INFO 19032 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 19032 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:25:12.928 DEBUG 19032 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:25:12.929  INFO 19032 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 12:25:13.739 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:25:13.747 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:25:13.749 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:25:13.751 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:25:13.753 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:25:13.755 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:25:13.756 DEBUG 19032 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:25:13.758 DEBUG 19032 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:25:13.758 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:25:13.758 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:25:13.759 DEBUG 19032 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:25:13.760 DEBUG 19032 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:25:13.762 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:25:13.762 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:25:13.762 DEBUG 19032 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:25:13.763 DEBUG 19032 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:25:13.763 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:25:13.764 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:25:13.767 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:25:13.770 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:25:14.779  WARN 19032 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:25:15.181  INFO 19032 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 2.29 seconds (JVM running for 11.505)
2019-06-27 12:25:15.251 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:25:15.262 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:25:15.266 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:25:15.283 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:25:15.290 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:25:15.497 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.id) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 12:25:15.541 DEBUG 19032 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.uuid as uuid13_1_,
        product0_.version as version14_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.id desc limit ?
2019-06-27 12:41:06.365  INFO 676 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 676 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:41:06.367 DEBUG 676 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:41:06.367  INFO 676 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 12:41:10.010 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:41:10.016 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:41:10.017 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:41:10.020 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:41:10.030 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:41:10.034 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:41:10.035 DEBUG 676 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:41:10.038 DEBUG 676 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:41:10.039 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:41:10.040 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:41:10.041 DEBUG 676 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:41:10.041 DEBUG 676 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:41:10.041 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:41:10.042 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:41:10.043 DEBUG 676 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:41:10.044 DEBUG 676 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:41:10.045 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:41:10.046 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:41:10.054 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:41:10.055 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:41:12.033  WARN 676 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:41:12.436  INFO 676 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 6.412 seconds (JVM running for 8.466)
2019-06-27 12:41:12.769 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:41:12.794 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:41:12.804 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.uuid as uuid13_1_0_,
        product0_.version as version14_1_0_ 
    from
        product product0_ 
    where
        product0_.id=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 12:41:12.839 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:41:12.848 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:41:12.894 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    UPDATE
        product 
    SET
        name = null,
        deleted = true 
    WHERE
        id = ?
2019-06-27 12:41:12.896 ERROR 676 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Valeur invalide "2" pour le paramètre "parameterIndex"
Invalid value "2" for parameter "parameterIndex" [90008-199]
2019-06-27 12:41:12.958 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:41:12.964 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:41:12.973 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:41:12.976 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:41:12.977 ERROR 676 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 12:41:13.015  INFO 676 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 676 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:41:13.015 DEBUG 676 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:41:13.015  INFO 676 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 12:41:13.548 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:41:13.554 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:41:13.555 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:41:13.557 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:41:13.559 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:41:13.561 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:41:13.562 DEBUG 676 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:41:13.563 DEBUG 676 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:41:13.564 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:41:13.564 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:41:13.565 DEBUG 676 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:41:13.565 DEBUG 676 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:41:13.566 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:41:13.566 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:41:13.567 DEBUG 676 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:41:13.567 DEBUG 676 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:41:13.567 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:41:13.568 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:41:13.570 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:41:13.572 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:41:14.389  WARN 676 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:41:14.729  INFO 676 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.736 seconds (JVM running for 10.759)
2019-06-27 12:41:14.772 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:41:14.779 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:41:14.783 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:41:14.793 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:41:14.796 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:41:14.941 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.id) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 12:41:14.964 DEBUG 676 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.uuid as uuid13_1_,
        product0_.version as version14_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.id desc limit ?
2019-06-27 12:44:47.944  INFO 2620 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 2620 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:44:47.945 DEBUG 2620 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:44:47.945  INFO 2620 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 12:44:52.052 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:44:52.057 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:44:52.057 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:44:52.060 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:44:52.071 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:44:52.075 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:44:52.076 DEBUG 2620 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:44:52.079 DEBUG 2620 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:44:52.080 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:44:52.082 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:44:52.084 DEBUG 2620 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:44:52.085 DEBUG 2620 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:44:52.085 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:44:52.086 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:44:52.087 DEBUG 2620 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:44:52.087 DEBUG 2620 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:44:52.087 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:44:52.088 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:44:52.096 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:44:52.097 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:44:54.054  WARN 2620 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:44:54.635  INFO 2620 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 7.021 seconds (JVM running for 8.933)
2019-06-27 12:44:55.048 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:44:55.077 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:44:55.086 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.uuid as uuid13_1_0_,
        product0_.version as version14_1_0_ 
    from
        product product0_ 
    where
        product0_.id=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 12:44:55.130 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:44:55.142 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:44:55.218 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    UPDATE
        product 
    SET
        name = null,
        deleted = true 
    WHERE
        id = ?
2019-06-27 12:44:55.221 ERROR 2620 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Valeur invalide "2" pour le paramètre "parameterIndex"
Invalid value "2" for parameter "parameterIndex" [90008-199]
2019-06-27 12:44:55.317 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:44:55.330 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:44:55.341 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:44:55.345 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:44:55.346 ERROR 2620 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 12:44:55.395  INFO 2620 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 2620 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:44:55.395 DEBUG 2620 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:44:55.395  INFO 2620 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 12:44:56.247 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:44:56.254 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:44:56.256 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:44:56.257 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:44:56.259 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:44:56.261 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:44:56.263 DEBUG 2620 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:44:56.263 DEBUG 2620 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:44:56.264 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:44:56.265 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:44:56.266 DEBUG 2620 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:44:56.266 DEBUG 2620 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:44:56.267 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:44:56.267 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:44:56.268 DEBUG 2620 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:44:56.269 DEBUG 2620 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:44:56.269 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:44:56.270 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:44:56.273 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:44:56.275 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:44:57.134  WARN 2620 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:44:57.523  INFO 2620 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 2.16 seconds (JVM running for 11.822)
2019-06-27 12:44:57.572 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:44:57.581 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:44:57.585 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:44:57.596 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:44:57.600 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:44:57.765 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.id) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 12:44:57.792 DEBUG 2620 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.uuid as uuid13_1_,
        product0_.version as version14_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.id desc limit ?
2019-06-27 12:45:53.958  INFO 18488 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 18488 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:45:53.959 DEBUG 18488 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:45:53.960  INFO 18488 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 12:45:57.902 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:45:57.911 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:45:57.912 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:45:57.916 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:45:57.928 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:45:57.933 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:45:57.935 DEBUG 18488 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:45:57.940 DEBUG 18488 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:45:57.941 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:45:57.943 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:45:57.945 DEBUG 18488 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:45:57.946 DEBUG 18488 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:45:57.946 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:45:57.948 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:45:57.949 DEBUG 18488 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:45:57.950 DEBUG 18488 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:45:57.950 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:45:57.952 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:45:57.961 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:45:57.963 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:45:59.730  WARN 18488 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:46:00.188  INFO 18488 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 6.76 seconds (JVM running for 8.665)
2019-06-27 12:46:00.552 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:46:00.579 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:46:00.587 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.uuid as uuid13_1_0_,
        product0_.version as version14_1_0_ 
    from
        product product0_ 
    where
        product0_.id=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 12:46:00.626 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:46:00.635 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:46:00.672 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    UPDATE
        product 
    SET
        name = null,
        deleted = true 
    WHERE
        id = ?
2019-06-27 12:46:00.673 ERROR 18488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Valeur invalide "2" pour le paramètre "parameterIndex"
Invalid value "2" for parameter "parameterIndex" [90008-199]
2019-06-27 12:46:00.721 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:46:00.728 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:46:00.735 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:46:00.738 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:46:00.740 ERROR 18488 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 12:46:00.776  INFO 18488 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 18488 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:46:00.778 DEBUG 18488 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:46:00.778  INFO 18488 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 12:46:01.419 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:46:01.430 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:46:01.433 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:46:01.441 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:46:01.444 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:46:01.447 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:46:01.449 DEBUG 18488 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:46:01.449 DEBUG 18488 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:46:01.450 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:46:01.451 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:46:01.453 DEBUG 18488 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:46:01.453 DEBUG 18488 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:46:01.454 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:46:01.455 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:46:01.457 DEBUG 18488 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:46:01.458 DEBUG 18488 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:46:01.459 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:46:01.461 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:46:01.463 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:46:01.466 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:46:02.238  WARN 18488 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:46:02.586  INFO 18488 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.833 seconds (JVM running for 11.063)
2019-06-27 12:46:02.644 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:46:02.654 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:46:02.659 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:46:02.670 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:46:02.675 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:46:02.811 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.id) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 12:46:02.846 DEBUG 18488 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.uuid as uuid13_1_,
        product0_.version as version14_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.id desc limit ?
2019-06-27 12:46:58.695  INFO 6972 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 6972 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:46:58.697 DEBUG 6972 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:46:58.697  INFO 6972 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 12:47:01.947 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:47:01.951 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:47:01.951 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:47:01.953 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:47:01.962 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:47:01.964 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:47:01.966 DEBUG 6972 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:47:01.968 DEBUG 6972 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:47:01.969 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:47:01.970 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:47:01.971 DEBUG 6972 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:47:01.971 DEBUG 6972 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:47:01.971 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:47:01.972 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:47:01.973 DEBUG 6972 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:47:01.973 DEBUG 6972 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:47:01.973 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:47:01.975 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:47:01.979 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:47:01.982 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:47:03.691  WARN 6972 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:47:04.105  INFO 6972 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 5.898 seconds (JVM running for 7.897)
2019-06-27 12:47:04.453 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:47:04.473 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:47:04.482 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.uuid as uuid13_1_0_,
        product0_.version as version14_1_0_ 
    from
        product product0_ 
    where
        product0_.id=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 12:47:04.518 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:47:04.528 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:47:04.558 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    UPDATE
        product 
    SET
        name = null,
        deleted = true 
    WHERE
        id = ?
2019-06-27 12:47:04.560 ERROR 6972 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Valeur invalide "2" pour le paramètre "parameterIndex"
Invalid value "2" for parameter "parameterIndex" [90008-199]
2019-06-27 12:47:04.612 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:47:04.619 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:47:04.627 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:47:04.630 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:47:04.632 ERROR 6972 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 12:47:04.679  INFO 6972 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 6972 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:47:04.679 DEBUG 6972 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:47:04.679  INFO 6972 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 12:47:05.184 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:47:05.190 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:47:05.190 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:47:05.191 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:47:05.194 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:47:05.195 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:47:05.196 DEBUG 6972 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:47:05.197 DEBUG 6972 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:47:05.197 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:47:05.198 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:47:05.199 DEBUG 6972 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:47:05.199 DEBUG 6972 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:47:05.199 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:47:05.200 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:47:05.201 DEBUG 6972 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:47:05.202 DEBUG 6972 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:47:05.202 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:47:05.203 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:47:05.205 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:47:05.206 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:47:05.835  WARN 6972 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:47:06.078  INFO 6972 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.433 seconds (JVM running for 9.87)
2019-06-27 12:47:06.118 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:47:06.127 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:47:06.129 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:47:06.138 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:47:06.141 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:47:06.305 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.id) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 12:47:06.335 DEBUG 6972 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.uuid as uuid13_1_,
        product0_.version as version14_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.id desc limit ?
2019-06-27 12:53:57.086  INFO 21524 --- [main] c.m.products.entities.ProductTest        : Starting ProductTest on DESKTOP-M9F1EHO with PID 21524 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:53:57.087 DEBUG 21524 --- [main] c.m.products.entities.ProductTest        : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:53:57.087  INFO 21524 --- [main] c.m.products.entities.ProductTest        : The following profiles are active: test
2019-06-27 12:54:00.368 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:54:00.372 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:54:00.372 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:54:00.375 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:54:00.384 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:54:00.389 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:54:00.390 DEBUG 21524 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:54:00.395 DEBUG 21524 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:54:00.396 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:54:00.397 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:54:00.398 DEBUG 21524 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:54:00.399 DEBUG 21524 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:54:00.399 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:54:00.400 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:54:00.400 DEBUG 21524 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:54:00.401 DEBUG 21524 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:54:00.401 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:54:00.402 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:54:00.407 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:54:00.410 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:54:02.222  WARN 21524 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:54:02.662  INFO 21524 --- [main] c.m.products.entities.ProductTest        : Started ProductTest in 5.862 seconds (JVM running for 8.019)
2019-06-27 12:54:03.001 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:54:03.019 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:54:03.030 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_0_,
        product0_.created_date as created_2_1_0_,
        product0_.creator_uuid as creator_3_1_0_,
        product0_.modified_date as modified4_1_0_,
        product0_.modifier_uuid as modifier5_1_0_,
        product0_.deleted as deleted6_1_0_,
        product0_.deletion_trace as deletion7_1_0_,
        product0_.description as descript8_1_0_,
        product0_.name as name9_1_0_,
        product0_.picture_uuid as picture10_1_0_,
        product0_.quantity as quantit11_1_0_,
        product0_.unit_price as unit_pr12_1_0_,
        product0_.uuid as uuid13_1_0_,
        product0_.version as version14_1_0_ 
    from
        product product0_ 
    where
        product0_.id=? 
        and (
            product0_.deleted = 0
        )
2019-06-27 12:54:03.068 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:54:03.078 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:54:03.134 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    UPDATE
        product 
    SET
        name = null,
        deleted = true
2019-06-27 12:54:03.137 ERROR 21524 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Valeur invalide "1" pour le paramètre "parameterIndex"
Invalid value "1" for parameter "parameterIndex" [90008-199]
2019-06-27 12:54:03.201 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:54:03.211 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:54:03.225 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:54:03.227 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:54:03.228 ERROR 21524 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Violation d'index unique ou clé primaire: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"
Unique index or primary key violation: "PUBLIC.UK_JMIVYXK9RMGYSRMSQW15LQR5B_INDEX_1 ON PUBLIC.PRODUCT(NAME) VALUES 7"; SQL statement:
insert into product (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23505-199]
2019-06-27 12:54:03.291  INFO 21524 --- [main] c.m.products.MSPApplicationTest          : Starting MSPApplicationTest on DESKTOP-M9F1EHO with PID 21524 (started by Junior Mbe in E:\LABS\medula-sales\projects\medula-sales-products-microservice)
2019-06-27 12:54:03.291 DEBUG 21524 --- [main] c.m.products.MSPApplicationTest          : Running with Spring Boot v2.1.4.RELEASE, Spring v5.1.6.RELEASE
2019-06-27 12:54:03.291  INFO 21524 --- [main] c.m.products.MSPApplicationTest          : The following profiles are active: test
2019-06-27 12:54:03.999 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    drop table category if exists
2019-06-27 12:54:04.007 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    drop table product if exists
2019-06-27 12:54:04.009 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    drop table product_category_xref if exists
2019-06-27 12:54:04.011 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    create table category (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        fk_category_id bigint,
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:54:04.012 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    create table product (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        description TINYTEXT,
        name varchar(100) not null,
        picture_uuid varchar(255),
        quantity FLOAT NOT NULL DEFAULT 0 not null check (quantity>=0),
        unit_price FLOAT NOT NULL DEFAULT 0 not null check (unit_price>=0),
        uuid varchar(36) not null,
        version bigint not null,
        primary key (id)
    )
2019-06-27 12:54:04.014 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    create table product_category_xref (
       id bigint generated by default as identity,
        created_date timestamp not null,
        creator_uuid varchar(36) not null,
        modified_date timestamp not null,
        modifier_uuid varchar(36) not null,
        fk_category_id bigint,
        deleted BOOLEAN NOT NULL DEFAULT false,
        deletion_trace varchar(255),
        fk_product_id bigint,
        primary key (id)
    )
2019-06-27 12:54:04.015 DEBUG 21524 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on category (creator_uuid)
2019-06-27 12:54:04.015 DEBUG 21524 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on category (modifier_uuid)
2019-06-27 12:54:04.016 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint uk_uuid unique (uuid)
2019-06-27 12:54:04.016 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint UK_46ccwnsi9409t36lurvtyljak unique (name)
2019-06-27 12:54:04.016 DEBUG 21524 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product (creator_uuid)
2019-06-27 12:54:04.017 DEBUG 21524 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product (modifier_uuid)
2019-06-27 12:54:04.017 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_jmivyxk9rmgysrmsqw15lqr5b unique (name)
2019-06-27 12:54:04.018 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table product 
       add constraint UK_24bc4yyyk3fj3h7ku64i3yuog unique (uuid)
2019-06-27 12:54:04.018 DEBUG 21524 --- [main] org.hibernate.SQL                        : create index idx_creator_uuid on product_category_xref (creator_uuid)
2019-06-27 12:54:04.019 DEBUG 21524 --- [main] org.hibernate.SQL                        : create index idx_modifier_uuid on product_category_xref (modifier_uuid)
2019-06-27 12:54:04.019 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint uk_fk_product_id_category_id unique (fk_product_id, fk_category_id)
2019-06-27 12:54:04.020 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table category 
       add constraint fk_category_parent_category_id 
       foreign key (fk_category_id) 
       references category (uuid)
2019-06-27 12:54:04.022 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_category_id 
       foreign key (fk_category_id) 
       references category
2019-06-27 12:54:04.024 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    
    alter table product_category_xref 
       add constraint fk_product_category_product_id 
       foreign key (fk_product_id) 
       references product
2019-06-27 12:54:04.688  WARN 21524 --- [main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-06-27 12:54:04.999  INFO 21524 --- [main] c.m.products.MSPApplicationTest          : Started MSPApplicationTest in 1.758 seconds (JVM running for 10.355)
2019-06-27 12:54:05.039 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        category
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, fk_category_id, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:54:05.047 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:54:05.051 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product
        (id, created_date, creator_uuid, modified_date, modifier_uuid, deleted, deletion_trace, description, name, picture_uuid, quantity, unit_price, uuid, version) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:54:05.062 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:54:05.066 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    insert 
    into
        product_category_xref
        (id, created_date, creator_uuid, modified_date, modifier_uuid, fk_category_id, deleted, deletion_trace, fk_product_id) 
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?)
2019-06-27 12:54:05.206 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    select
        count(product0_.id) as col_0_0_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) limit ?
2019-06-27 12:54:05.230 DEBUG 21524 --- [main] org.hibernate.SQL                        : 
    select
        product0_.id as id1_1_,
        product0_.created_date as created_2_1_,
        product0_.creator_uuid as creator_3_1_,
        product0_.modified_date as modified4_1_,
        product0_.modifier_uuid as modifier5_1_,
        product0_.deleted as deleted6_1_,
        product0_.deletion_trace as deletion7_1_,
        product0_.description as descript8_1_,
        product0_.name as name9_1_,
        product0_.picture_uuid as picture10_1_,
        product0_.quantity as quantit11_1_,
        product0_.unit_price as unit_pr12_1_,
        product0_.uuid as uuid13_1_,
        product0_.version as version14_1_ 
    from
        product product0_ 
    inner join
        product_category_xref productcat1_ 
            on product0_.id=productcat1_.fk_product_id 
            and (
                productcat1_.deleted = 0
            ) 
    where
        (
            product0_.deleted = 0
        ) 
    order by
        product0_.id desc limit ?
